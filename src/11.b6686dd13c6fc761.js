"use strict";(self.webpackChunkprivatni_vrtic=self.webpackChunkprivatni_vrtic||[]).push([[11],{3011:(G,_,s)=>{s.r(_),s.d(_,{ParametersModule:()=>W});var c=s(9808),r=s(3075),u=s(118),g=s(1281),f=s(2061),h=s(7833),m=s(2268),e=s(5e3),v=s(4015),C=s(6209),x=s(4937),M=s(7725),T=s(3544),F=s(8662);function y(t,i){1&t&&(e.TgZ(0,"div",8),e._UZ(1,"app-loader"),e.qZA())}function Z(t,i){if(1&t&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.data[o.id]," ")}}function w(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.YNc(2,Z,2,1,"div",10),e.qZA()),2&t){const o=i.$implicit;e.Gre("",o.class," border-none"),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.id)}}function J(t,i){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,w,3,5,"div",5),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",o.group)}}function j(t,i){if(1&t&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o," ")}}function b(t,i){if(1&t&&(e.TgZ(0,"div",12),e.YNc(1,j,2,1,"div",13),e.qZA()),2&t){const o=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.data[o.id])}}function O(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,J,2,1,"div",9),e._uU(2),e.YNc(3,b,2,1,"div",10),e.qZA()),2&t){const o=i.$implicit,n=e.oxw();e.Tol(o.class),e.xp6(1),e.Q6J("ngIf",o.group),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.id&&n.data[o.id])}}function A(t,i){if(1&t&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.note," ")}}function I(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"ejs-textbox",27),e.NdJ("ngModelChange",function(a){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(5).data[l.id]=a}),e.qZA()}if(2&t){const o=e.oxw().$implicit,n=e.oxw(5);e.Q6J("id",o.id)("ngModel",n.data[o.id])}}function Q(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.YNc(2,I,1,2,"ejs-textbox",26),e.qZA()),2&t){const o=i.$implicit;e.Gre("",o.class," p-1 pt-2 border-none"),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.id&&"numeric"===o.type)}}function S(t,i){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,Q,3,5,"div",5),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",o.group)}}function N(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"ejs-multiselect",28),e.NdJ("ngModelChange",function(a){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(3).data[l.id]=a}),e.qZA()}if(2&t){const o=e.oxw().$implicit,n=e.oxw(3);e.Q6J("id",o.id)("dataSource",n.menu)("fields",n.field)("ngModel",n.data[o.id])}}function P(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"ejs-textbox",27),e.NdJ("ngModelChange",function(a){e.CHM(o);const l=e.oxw().$implicit;return e.oxw(3).data[l.id]=a}),e.qZA()}if(2&t){const o=e.oxw().$implicit,n=e.oxw(3);e.Q6J("id",o.id)("ngModel",n.data[o.id])}}function U(t,i){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.YNc(2,S,2,1,"div",9),e.YNc(3,N,1,4,"ejs-multiselect",25),e.YNc(4,P,1,2,"ejs-textbox",26),e.qZA()),2&t){const o=i.$implicit;e.Tol(o.class),e.xp6(1),e.hij(" ",o.label," "),e.xp6(1),e.Q6J("ngIf",o.group),e.xp6(1),e.Q6J("ngIf",o.id&&"multiselect"===o.type),e.xp6(1),e.Q6J("ngIf",o.id&&"numeric"===o.type)}}function Y(t,i){if(1&t&&(e.TgZ(0,"div",4),e.YNc(1,U,5,7,"div",5),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.config)}}function k(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-dialog-modal",15),e.NdJ("closeEventEmitter",function(){return e.CHM(o),e.oxw().closeModal()}),e.TgZ(1,"div",16)(2,"div",17)(3,"label",18),e._uU(4),e.qZA(),e.TgZ(5,"ejs-datepicker",19),e.NdJ("ngModelChange",function(a){return e.CHM(o),e.oxw().dateFrom=a}),e.qZA()(),e.TgZ(6,"div",17)(7,"label",18),e._uU(8),e.qZA(),e.TgZ(9,"ejs-datepicker",20),e.NdJ("ngModelChange",function(a){return e.CHM(o),e.oxw().dateTo=a}),e.qZA()()(),e.YNc(10,Y,2,1,"div",21),e.TgZ(11,"div",22)(12,"label",18),e._uU(13),e.qZA(),e.TgZ(14,"ejs-textbox",23),e.NdJ("ngModelChange",function(a){return e.CHM(o),e.oxw().note=a}),e.qZA()(),e.TgZ(15,"div",24)(16,"button",1),e.NdJ("click",function(){return e.CHM(o),e.oxw().saveFoodMenu()}),e._uU(17),e.qZA()()()}if(2&t){const o=e.oxw();e.Q6J("show",o.modal)("width","90%"),e.xp6(4),e.Oqu(o.language.dateFrom),e.xp6(1),e.Q6J("ngModel",o.dateFrom),e.xp6(3),e.Oqu(o.language.dateTo),e.xp6(1),e.Q6J("ngModel",o.dateTo),e.xp6(1),e.Q6J("ngIf",o.menu&&o.data),e.xp6(3),e.Oqu(o.language.note),e.xp6(1),e.Q6J("id","note")("multiline",!0)("ngModel",o.note),e.xp6(3),e.hij(" ",o.language.editButton," ")}}let q=(()=>{class t{constructor(o,n,a,l,d){this.helpService=o,this.apiService=n,this.configurationService=a,this.toastr=l,this.router=d,this.path="/scheduler/parameter",this.file="food-menu.json",this.modal=!1,this.data={},this.field={text:"name",value:"name"}}ngOnInit(){this.language=this.helpService.getLanguage(),this.initializeConfig(),this.initializeData()}initializeConfig(){this.configurationService.getConfiguration("other","food-menu.json").subscribe(o=>{this.config=o})}initializeData(){this.apiService.callApi({request:{type:"GET",api:"/api/getFoodsMenu",fields:"",root:""}},this.router).subscribe(n=>{if(n)for(let a=0;a<n.length;a++)this.dateFrom=new Date(n[a].from_date),this.dateTo=new Date(n[a].to_date),this.data=JSON.parse(n[a].content),this.note=n[a].note})}openModal(){this.apiService.callApi({request:{type:"GET",api:"/api/getFoods",fields:"",root:""}},this.router).subscribe(n=>{n&&(this.menu=n)}),this.modal=!0}closeModal(){this.modal=!1}saveFoodMenu(){let o;o=this.dateFrom&&this.dateTo?"/api/createFoodsMenu":"/api/updateFoodsMenu";const n={request:{type:"POST",api:o,parameters:[],fields:"",root:""},body:{from_date:this.dateFrom,to_date:this.dateTo,content:JSON.stringify(this.data),note:this.note}};this.apiService.callApi(n,this.router).subscribe(a=>{a?(this.toastr.showSuccess(),this.modal=!1):this.toastr.showError()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(v.s),e.Y36(C.f),e.Y36(x.e),e.Y36(M.l),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-food-menu"]],decls:13,vars:15,consts:[[1,"p-2"],["type","button",1,"button-action","e-info","e-control","e-btn","e-lib","mr-2",3,"click"],["style","height: 70vh",4,"ngIf"],[1,"food-menu-title","pb-2","text-center"],[1,"row","food-menu-container"],[3,"class",4,"ngFor","ngForOf"],["class","col-sm-12 header text-left pl-4",4,"ngIf"],[3,"show","width","closeEventEmitter",4,"ngIf"],[2,"height","70vh"],["class","row border-none",4,"ngIf"],["class","border-none",4,"ngIf"],[1,"row","border-none"],[1,"border-none"],["class","border-none",4,"ngFor","ngForOf"],[1,"col-sm-12","header","text-left","pl-4"],[3,"show","width","closeEventEmitter"],[1,"row","width-50","pb-2"],[1,"form-group","col-sm-6"],[1,"custom-label"],["cssClass","e-outline","id","dateFrom",3,"ngModel","ngModelChange"],["cssClass","e-outline","id","dateTo",3,"ngModel","ngModelChange"],["class","row food-menu-container",4,"ngIf"],[1,"form-group","col-sm-12","pt-4"],["cssClass","e-outline",3,"id","multiline","ngModel","ngModelChange"],[1,"pt-2","text-right"],["cssClass","e-outline","class","e-field e-input",3,"id","dataSource","fields","ngModel","ngModelChange",4,"ngIf"],["cssClass","e-outline",3,"id","ngModel","ngModelChange",4,"ngIf"],["cssClass","e-outline",3,"id","ngModel","ngModelChange"],["cssClass","e-outline",1,"e-field","e-input",3,"id","dataSource","fields","ngModel","ngModelChange"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openModal()}),e._uU(2),e.qZA()(),e.YNc(3,y,2,0,"div",2),e.TgZ(4,"div")(5,"h4",3),e._uU(6),e.ALo(7,"date"),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"div",4),e.YNc(10,O,4,6,"div",5),e.YNc(11,A,2,1,"div",6),e.qZA(),e.YNc(12,k,18,12,"app-dialog-modal",7),e.qZA()),2&o&&(e.xp6(2),e.hij(" ",n.language.editButton," "),e.xp6(1),e.Q6J("ngIf",!n.data),e.xp6(3),e.HOy(" ",n.language.menuForPeriodFromTitle," ",e.xi3(7,9,n.dateFrom,"dd.MM.yyyy")," ",n.language.to," ",e.xi3(8,12,n.dateTo,"dd.MM.yyyy")," "),e.xp6(4),e.Q6J("ngForOf",n.config),e.xp6(1),e.Q6J("ngIf",n.note),e.xp6(1),e.Q6J("ngIf",n.modal))},directives:[c.O5,T.R,c.sg,F.z,u.Lr,r.JJ,r.On,f.PL,g.OP],pipes:[c.uU],styles:[".food-menu-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;border:.5px solid #d7d7d7}.header[_ngcontent-%COMP%]{background:#1c2260;color:#fff;font-weight:700;padding:10px}.header-dark[_ngcontent-%COMP%]{background:#c4c5ce}.cell[_ngcontent-%COMP%]{font-weight:700}.food-menu-title[_ngcontent-%COMP%]{color:#1c2260}"]}),t})();var p=s(5216);const $=[{path:"",redirectTo:"work-places",pathMatch:"full"},{path:"work-places",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="work-places.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-work-places"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()},{path:"type-of-work",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="type-of-work.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-type-of-work"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()},{path:"food",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="food.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-food"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()},{path:"food-menu",component:q},{path:"general-contracts",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="general-contracts.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-general-contracts"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()},{path:"suppliers-company",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="suppliers-company.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-suppliers-company"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()},{path:"invoice-suppliers",component:(()=>{class t{constructor(){this.path="/grids/parameters",this.file="invoice-suppliers.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-invoice-suppliers"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-grid",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[p.d],styles:[""]}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild($)],m.Bz]}),t})(),W=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[c.ez,r.u5,E,h.I,g.q4,u.I$,f.vS]]}),t})()}}]);