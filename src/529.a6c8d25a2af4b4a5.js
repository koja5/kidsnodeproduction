"use strict";(self.webpackChunkprivatni_vrtic=self.webpackChunkprivatni_vrtic||[]).push([[529],{917:(I,b,l)=>{l.r(b),l.d(b,{SettingsModule:()=>B});var d=l(9808),i=l(3178),x=l(5101),O=l(7833),h=l(2268),t=l(5e3),S=l(4937),f=l(4015);function _(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"mat-icon",10),t._uU(7),t.qZA()()(),t.TgZ(8,"div",11)(9,"div",12)(10,"div",13)(11,"a",14),t._uU(12),t.qZA()(),t.TgZ(13,"div",15),t._uU(14),t.qZA()()()()()()()),2&n){const e=s.$implicit,o=t.oxw();t.Gre("col mb-4 ",o.checkRights(e.rights)?"":"display-none",""),t.xp6(7),t.Oqu(e.icon),t.xp6(4),t.s9C("routerLink",e.link),t.xp6(1),t.Oqu(o.language[e.title]?o.language[e.title]:e.title),t.xp6(2),t.hij(" ",o.language[e.description]?o.language[e.description]:e.description," ")}}let P=(()=>{class n{constructor(e,o){this.configurationService=e,this.helpService=o,this.path="settings",this.file="control-panel.json"}ngOnInit(){this.initConfiguration()}initConfiguration(){this.language=this.helpService.getLanguage(),this.configurationService.getConfiguration(this.path,this.file).subscribe(e=>{this.configuration=e})}checkRights(e){return this.helpService.checkRights(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.e),t.Y36(f.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-control-panel"]],decls:5,vars:1,consts:[[1,"m-3"],[1,"h-100","row"],["id","contentArea",1,"h-100","col",2,"opacity","1"],[1,"row-cols-1","row-cols-md-2","g-2","row"],[3,"class",4,"ngFor","ngForOf"],[1,"hover-scale-up","h-100","card"],[1,"card-body"],[1,"g-0","row"],[1,"col-auto"],[1,"sw-6","sh-6","rounded-xl","d-flex","justify-content-center","align-items-center","border","border-primary","mb-4"],["aria-hidden","false"],[1,"col"],[1,"d-flex","flex-column","ps-card","justify-content-start"],[1,"d-flex","flex-column","justify-content-center","mb-2"],[1,"heading","text-primary","stretched-link",3,"routerLink"],[1,"text-alternate"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,_,15,7,"div",4),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",o.configuration))},directives:[d.sg,x.Hw,h.yS],styles:['.page-title-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1}.display-4[_ngcontent-%COMP%]{font-family:Montserrat,sans-seri;font-size:1.85em;line-height:1.2;font-weight:300}.hover-scale-up[_ngcontent-%COMP%]:hover{transform:scale(1.02);z-index:1}.card[_ngcontent-%COMP%]{box-shadow:0 4px 10px #00000008!important;background:#ffffff;border-radius:16px;border:initial}.hover-scale-up[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .2s}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem}.col-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.border-primary[_ngcontent-%COMP%]{border-color:#1c2260!important}.rounded-xl[_ngcontent-%COMP%]{border-radius:50px!important}.sw-6[_ngcontent-%COMP%]{width:3rem!important}.sh-6[_ngcontent-%COMP%]{height:3rem!important}.ps-card[_ngcontent-%COMP%]{padding-left:2rem}.justify-content-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.flex-column[_ngcontent-%COMP%]{flex-direction:column!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.heading[_ngcontent-%COMP%]{font-size:1.1em;font-weight:500;margin-bottom:.7em}.text-primary[_ngcontent-%COMP%]{color:#1c2260!important}a[_ngcontent-%COMP%]{transition:color .2s;text-decoration:initial;color:#1c2260;outline:initial!important}.stretched-link[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-alternate[_ngcontent-%COMP%]{color:#7c7c7c!important}']}),n})(),m=(()=>{class n{constructor(e){this.helpService=e}ngOnInit(){this.language=this.helpService.getLanguage()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-back-button"]],decls:5,vars:1,consts:[["aria-current","page","routerLink","../",1,"muted-link","pb-1","d-inline-block","hidden","breadcrumb-back","active"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 20 20","fill","none","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round",1,"cs-icon","chevron-left"],["d","M13 16L7.35355 10.3536C7.15829 10.1583 7.15829 9.84171 7.35355 9.64645L13 4"],[1,"align-middle","text-small","ms-1"]],template:function(e,o){1&e&&(t.TgZ(0,"a",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"path",2),t.qZA(),t.kcU(),t.TgZ(3,"span",3),t._uU(4),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(o.language.backButton))},directives:[h.yS],styles:[""]}),n})();var u=l(1438);let T=(()=>{class n{constructor(){this.path="/settings/setting-items",this.file="change-password.json"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-change-password"]],decls:2,vars:2,consts:[[3,"path","file"]],template:function(e,o){1&e&&t._UZ(0,"app-back-button")(1,"app-dynamic-forms",0),2&e&&(t.xp6(1),t.Q6J("path",o.path)("file",o.file))},directives:[m,u.b],styles:[""]}),n})();var v=l(6209),U=l(2684),C=l(1043);function M(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"app-loader-content"),t.qZA())}function Z(n,s){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw();t.Q6J("src",e.logo,t.LSH)}}function w(n,s){if(1&n&&t._UZ(0,"app-dynamic-upload",0),2&n){const e=t.oxw();t.Q6J("path",e.config.uploadConfig.path)("file",e.config.uploadConfig.file)}}let r=(()=>{class n{constructor(e,o,D){this.helpService=e,this.apiService=o,this.messageService=D,this.path="/settings/setting-items",this.file="owner-profile.json",this.config={uploadConfig:{path:"/upload-config",file:"upload-owner-profile-icon.json"}}}ngOnInit(){this.language=this.helpService.getLanguage(),this.initalizeData(),this.messageService.getRefreshGrid().subscribe(e=>{this.initalizeData()})}initalizeData(){this.apiService.callGetMethod("api/getOwnerInfo","").subscribe(e=>{e&&e.length>0&&(e[0].logo?(this.helpService.setLocalStorage("logo",e[0].logo),this.apiService.getImage(e[0].logo).subscribe(o=>{this.createImageFromBlob(o)})):this.logo="./assets/icons/k_owner.png")})}createImageFromBlob(e){let o=new FileReader;o.addEventListener("load",()=>{this.logo=o.result},!1),e&&o.readAsDataURL(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(v.f),t.Y36(U.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-owner-profile"]],decls:11,vars:6,consts:[[3,"path","file"],[1,"text-center","mt-2"],[1,"kindergarden-container"],[1,"form-group","text-muted","full-width"],[1,"custom-label"],[4,"ngIf"],["class","radius-logo",3,"src",4,"ngIf"],[1,"kindergarden-upload"],[3,"path","file",4,"ngIf"],[1,"radius-logo",3,"src"]],template:function(e,o){1&e&&(t._UZ(0,"app-back-button")(1,"app-dynamic-forms",0),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6),t.qZA()(),t.YNc(7,M,2,0,"div",5),t.YNc(8,Z,1,1,"img",6),t.TgZ(9,"div",7),t.YNc(10,w,1,2,"app-dynamic-upload",8),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("path",o.path)("file",o.file),t.xp6(5),t.Oqu(o.language.profileImage),t.xp6(1),t.Q6J("ngIf",!o.logo),t.xp6(1),t.Q6J("ngIf",o.logo),t.xp6(2),t.Q6J("ngIf",o.config.uploadConfig))},directives:[m,u.b,d.O5,C.c],styles:[".kindergarden-upload[_ngcontent-%COMP%]{width:50%;margin:auto}"]}),n})();function g(n,s){if(1&n&&t._UZ(0,"app-dynamic-upload",0),2&n){const e=t.oxw();t.Q6J("path",e.config.uploadConfig.path)("file",e.config.uploadConfig.file)}}function c(n,s){if(1&n&&t._UZ(0,"app-dynamic-upload",9),2&n){const e=t.oxw();t.Q6J("path",e.config.uploadConfig.path)("file",e.config.uploadConfig.file)}}const E=[{path:"",redirectTo:"control-panel",pathMatch:"full"},{path:"control-panel",component:P},{path:"kindergarden-profile",component:(()=>{class n{constructor(e,o){this.helpService=e,this.apiService=o,this.path="/settings/setting-items",this.file="kindergarden-profile.json",this.config={uploadConfig:{path:"/upload-config",file:"upload-kindergarden-logo.json",delete:{type:"POST",api:"/api/upload/deleteChildrenDocument",parameters:[],fields:"",root:""}}}}ngOnInit(){this.language=this.helpService.getLanguage(),this.initalizeData()}initalizeData(){this.apiService.callGetMethod("api/getKindergardenInfo","").subscribe(e=>{e&&e.length>0&&(e[0].logo?this.apiService.getImage(e[0].logo).subscribe(o=>{this.createImageFromBlob(o)}):this.logo="./assets/icons/k_default.png")})}createImageFromBlob(e){let o=new FileReader;o.addEventListener("load",()=>{this.logo=o.result},!1),e&&o.readAsDataURL(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(v.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-kindergarden-profile"]],decls:12,vars:6,consts:[[3,"path","file"],[1,"text-center","mt-2"],[1,"kindergarden-container"],[1,"form-group","text-muted","full-width"],[1,"custom-label"],[1,"label-text","text-muted"],[1,"radius-logo",3,"src"],[1,"kindergarden-upload"],[3,"path","file",4,"ngIf"]],template:function(e,o){1&e&&(t._UZ(0,"app-back-button")(1,"app-dynamic-forms",0),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()(),t._UZ(9,"img",6),t.TgZ(10,"div",7),t.YNc(11,g,1,2,"app-dynamic-upload",8),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("path",o.path)("file",o.file),t.xp6(5),t.Oqu(o.language.profileImage),t.xp6(2),t.hij(" ",o.language.profileImageText," "),t.xp6(1),t.Q6J("src",o.logo,t.LSH),t.xp6(2),t.Q6J("ngIf",o.config.uploadConfig))},directives:[m,u.b,d.O5,C.c],styles:[".kindergarden-container[_ngcontent-%COMP%]{width:30%;display:contents}.kindergarden-upload[_ngcontent-%COMP%]{width:30%;display:block;text-align:center;margin:auto}"]}),n})()},{path:"owner-profile",component:r},{path:"employee-profile",component:(()=>{class n{constructor(e,o){this.helpService=e,this.apiService=o,this.path="/settings/setting-items",this.file="employee-profile.json",this.config={uploadConfig:{path:"/upload-config",file:"upload-employee-profile-icon.json"}}}ngOnInit(){this.language=this.helpService.getLanguage(),this.initalizeData()}initalizeData(){this.apiService.callGetMethod("api/getKindergardenInfo","").subscribe(e=>{e&&e.length>0&&(e[0].logo?this.apiService.getImage(e[0].logo).subscribe(o=>{this.createImageFromBlob(o)}):this.logo="./assets/icons/k_director.png")})}createImageFromBlob(e){let o=new FileReader;o.addEventListener("load",()=>{this.logo=o.result},!1),e&&o.readAsDataURL(e)}submitEmitter(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(v.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-employee-profile"]],decls:12,vars:6,consts:[[3,"path","file","submit"],[1,"text-center","mt-2"],[1,"kindergarden-container"],[1,"form-group","text-muted","full-width"],[1,"custom-label"],[1,"label-text","text-muted"],[1,"radius-logo",3,"src"],[1,"kindergarden-upload"],[3,"path","file",4,"ngIf"],[3,"path","file"]],template:function(e,o){1&e&&(t._UZ(0,"app-back-button"),t.TgZ(1,"app-dynamic-forms",0),t.NdJ("submit",function(L){return o.submitEmitter(L)}),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()(),t._UZ(9,"img",6),t.TgZ(10,"div",7),t.YNc(11,c,1,2,"app-dynamic-upload",8),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("path",o.path)("file",o.file),t.xp6(5),t.Oqu(o.language.profileImage),t.xp6(2),t.hij(" ",o.language.profileImageText," "),t.xp6(1),t.Q6J("src",o.logo,t.LSH),t.xp6(2),t.Q6J("ngIf",o.config.uploadConfig))},directives:[m,u.b,d.O5,C.c],styles:[""]}),n})()},{path:"change-password",component:T},{path:"personalize",component:(()=>{class n{constructor(){this.path="/settings/setting-items",this.file="personalize.json"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-setting-personalize"]],decls:2,vars:2,consts:[[3,"path","file"]],template:function(e,o){1&e&&t._UZ(0,"app-back-button")(1,"app-dynamic-forms",0),2&e&&(t.xp6(1),t.Q6J("path",o.path)("file",o.file))},directives:[m,u.b],styles:[""]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(E)],h.Bz]}),n})();const j={suppressScrollX:!0};let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:i.op,useValue:j}],imports:[[d.ez,O.I,A,x.Ps]]}),n})()},1043:(I,b,l)=>{l.d(b,{c:()=>w});var d=l(7628),i=l(5e3),x=l(4937),O=l(4015),h=l(2684),t=l(2268),S=l(9808),f=l(3544),_=l(1123),P=l(1438),m=l(2061);const u=["tabObj"];function T(r,g){1&r&&(i.TgZ(0,"div",2),i._UZ(1,"app-loader"),i.qZA())}function v(r,g){if(1&r){const a=i.EpF();i.TgZ(0,"div",8)(1,"app-dynamic-forms",9,10),i.NdJ("submit",function(p){return i.CHM(a),i.oxw(3).submitEmitter(p)}),i.qZA()()}if(2&r){const a=i.oxw(3);i.xp6(1),i.Q6J("config",a.config)}}function U(r,g){if(1&r){const a=i.EpF();i.TgZ(0,"div",8)(1,"ejs-uploader",11,12),i.NdJ("uploading",function(p){return i.CHM(a),i.oxw(3).onUploadBegin(p)}),i.qZA()()}if(2&r){const a=i.oxw(3);i.xp6(1),i.Q6J("autoUpload",!1)("asyncSettings",a.asyncSettings)("autoUpload",a.config.autoUpload)}}function C(r,g){if(1&r&&(i.TgZ(0,"ejs-tab",4,5)(2,"e-tabitems")(3,"e-tabitem",6),i.YNc(4,v,3,1,"ng-template",null,7,i.W1O),i.qZA(),i.TgZ(6,"e-tabitem",6),i.YNc(7,U,3,3,"ng-template",null,7,i.W1O),i.qZA()()()),2&r){const a=i.oxw(2);i.xp6(3),i.Q6J("header",a.title),i.xp6(3),i.Q6J("header",a.title2)}}function M(r,g){if(1&r){const a=i.EpF();i.TgZ(0,"div")(1,"ejs-uploader",13,12),i.NdJ("uploading",function(p){return i.CHM(a),i.oxw(2).onUploadBegin(p)}),i.qZA()()}if(2&r){const a=i.oxw(2);i.xp6(1),i.Q6J("asyncSettings",a.asyncSettings)("autoUpload",a.config.autoUpload)}}function Z(r,g){if(1&r&&(i.TgZ(0,"div"),i.YNc(1,C,9,2,"ejs-tab",3),i.YNc(2,M,3,2,"div",1),i.qZA()),2&r){const a=i.oxw();i.xp6(1),i.Q6J("ngIf",a.config.config&&a.config.config.length>0),i.xp6(1),i.Q6J("ngIf",void 0===a.config.config||0===a.config.config.length)}}let w=(()=>{class r{constructor(a,c,p,y){this.configurationService=a,this.helpService=c,this.messageService=p,this.router=y,this.loader=!1}ngOnInit(){this.loader=!0,this.initializeConfig()}initializeConfig(){this.language=this.helpService.getLanguage(),this.configurationService.getConfiguration(this.path,this.file).subscribe(a=>{this.loader=!1,this.config=a,this.config.config&&setTimeout(()=>{this.tabObj.element.classList.add("e-fill"),this.config.requiredBaseData&&this.tabObj.enableTab(1,!1)},50),this.initializeSettings()})}initializeSettings(){this.asyncSettings={saveUrl:this.config.saveUrl,removeUrl:this.config.removeUrl}}onUploadBegin(a){let c=(0,d.QI)(a.fileData.name.substring(0,a.fileData.name.lastIndexOf(".")));if(a.customFormData=[{fileName:c},{additionalData:this.basicData?JSON.stringify(this.basicData):""}],this.config.url){const p=this.helpService.getValueFromUrl(this.router.snapshot.params,this.config.url);a.customFormData.push({id:p})}this.messageService.sendRefreshGrid()}submitEmitter(a){this.basicData=a,this.tabObj.select(1)}backToInfoData(){this.tabObj.select(0)}}return r.\u0275fac=function(a){return new(a||r)(i.Y36(x.e),i.Y36(O.s),i.Y36(h.e),i.Y36(t.gz))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-dynamic-upload"]],viewQuery:function(a,c){if(1&a&&i.Gf(u,5),2&a){let p;i.iGM(p=i.CRH())&&(c.tabObj=p.first)}},inputs:{path:"path",file:"file"},decls:2,vars:2,consts:[["style","height: 70vh",4,"ngIf"],[4,"ngIf"],[2,"height","70vh"],["id","tab_default",4,"ngIf"],["id","tab_default"],["tabObj",""],[3,"header"],["content",""],[1,"pt-2"],[3,"config","submit"],["form","dynamicForm"],[3,"autoUpload","asyncSettings","uploading"],["defaultupload",""],[3,"asyncSettings","autoUpload","uploading"]],template:function(a,c){1&a&&(i.YNc(0,T,2,0,"div",0),i.YNc(1,Z,3,2,"div",1)),2&a&&(i.Q6J("ngIf",c.loader),i.xp6(1),i.Q6J("ngIf",!c.loader))},directives:[S.O5,f.R,_.id,_.dO,_.wv,P.b,m.FH],styles:[""]}),r})()}}]);