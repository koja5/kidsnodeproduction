"use strict";(self.webpackChunkprivatni_vrtic=self.webpackChunkprivatni_vrtic||[]).push([[235],{6235:(x,p,a)=>{a.r(p),a.d(p,{InvoiceModule:()=>q});var m=a(9808),s=a(3075),C=a(7833),v=a(2268),e=a(5e3),_=a(765);let f=(()=>{class t{constructor(){this.path="/tabs/invoices",this.file="children-invoices.json"}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-children-invoices"]],decls:1,vars:2,consts:[[3,"path","file"]],template:function(o,n){1&o&&e._UZ(0,"app-dynamic-tabs",0),2&o&&e.Q6J("path",n.path)("file",n.file)},directives:[_.r],styles:[""]}),t})();var M=a(8493),h=a(503);class Z{constructor(){this.products=[],this.products.push(new h.R)}}var b=a(4015);const d=function(t){return{"is-invalid":t}};function T(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"tr")(1,"td",25)(2,"input",26,27),e.NdJ("ngModelChange",function(i){return e.CHM(o).$implicit.name=i}),e.qZA()(),e.TgZ(4,"td")(5,"input",28,29),e.NdJ("ngModelChange",function(i){return e.CHM(o).$implicit.price=i}),e.qZA()(),e.TgZ(7,"td")(8,"input",30,31),e.NdJ("ngModelChange",function(i){return e.CHM(o).$implicit.qty=i}),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"button",32),e.NdJ("click",function(){const r=e.CHM(o).index;return e.oxw().removeProduct(r)}),e._uU(14," x "),e.qZA()()()}if(2&t){const o=c.$implicit,n=c.index,i=e.MAs(3),r=e.MAs(6),l=e.MAs(9);e.oxw();const g=e.MAs(1);e.xp6(2),e.MGl("name","productName",n,""),e.Q6J("ngClass",e.VKq(10,d,g.submitted&&i.invalid))("ngModel",o.name),e.xp6(3),e.MGl("name","price",n,""),e.Q6J("ngClass",e.VKq(12,d,g.submitted&&r.invalid))("ngModel",o.price),e.xp6(3),e.MGl("name","quantity",n,""),e.Q6J("ngClass",e.VKq(14,d,g.submitted&&l.invalid))("ngModel",o.qty),e.xp6(3),e.hij(" ",o.price*o.qty||""," ")}}const u=a(4641);u.vfs=M.I.vfs;const y=[{path:"",redirectTo:"children-invoices",pathMatch:"full"},{path:"children-invoices",component:f},{path:"invoice-form",component:(()=>{class t{constructor(o){this.helpService=o,this.invoice=new Z}ngOnInit(){this.language=this.helpService.getLanguage()}generatePDF(o="open"){let n={content:[{columns:[[{text:"KidsNode",fontSize:16,bold:!0,alignment:"left",color:"#1E2462"}],[{text:this.language.invoiceTitle,fontSize:16,bold:!0,alignment:"right",color:"#1E2462"}]]},{text:this.language.invoiceCustomerDetails,style:"sectionHeader"},{columns:[[{text:this.invoice.customerName,bold:!0},{text:this.invoice.address},{text:this.invoice.phone},{text:this.invoice.email}],[{text:`${this.language.invoiceDate} : ${(new Date).toLocaleString()}`,alignment:"right"},{text:`${this.language.invoiceBillNo} : ${(1e3*Math.random()).toFixed(0)}`,alignment:"right"}]]},{text:this.language.invoiceOrderDetails,style:"sectionHeader"},{table:{headerRows:1,widths:["*","auto","auto","auto"],body:[[this.language.invoiceProduct,this.language.invoicePrice,this.language.invoiceQuantity,this.language.invoiceAmount],...this.invoice.products.map(i=>[i.name,i.price,i.qty,(i.price*i.qty).toFixed(2)]),[{text:this.language.invoiceTotalAmount,colSpan:3},{},{},this.invoice.products.reduce((i,r)=>i+r.qty*r.price,0).toFixed(2)]]}},{text:this.language.invoiceAdditionalDetails,style:"sectionHeader"},{text:this.invoice.additionalDetails,margin:[0,0,0,15]},{columns:[[{qr:`${this.invoice.customerName}`,fit:"50"}],[{text:this.language.invoiceSignature,alignment:"right",italics:!0}]]}],styles:{sectionHeader:{bold:!0,decoration:"underline",fontSize:14,margin:[0,15,0,15]}}};"download"===o?u.createPdf(n).download(this.invoice.customerName):"print"===o?u.createPdf(n).print():u.createPdf(n).open()}addProduct(){this.invoice.products.push(new h.R)}removeProduct(o){this.invoice.products.splice(o,1)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(b.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-custom-invoice-form"]],decls:67,vars:33,consts:[["invoiceForm","ngForm"],[1,"container-fluid","pt-2","mb-5"],[1,"card","border-default"],[1,"card-body"],[1,"card-title","text-muted"],[1,"row"],[1,"col-md-4"],[1,"custom-label"],["type","textbox","name","name","id","name","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["CustName","ngModel"],["type","textbox","name","email","id","email","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["type","textbox","name","phone","id","phone","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"col-md-12"],["type","textbox","name","address","id","address","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"card","border-default","mt-2"],[1,"card-title","d-flex","justify-content-between","text-muted"],["type","button",1,"e-success","e-control","e-btn","e-lib","mr-2",3,"click"],[1,"table"],["width","25%",1,"text-muted"],[4,"ngFor","ngForOf"],[1,"form-group","full-width"],["name","additionalDetails","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-right","pt-4"],["type","button",1,"button-action","e-info","e-control","e-btn","e-lib","mr-2",3,"click"],["type","submit",1,"button-action","e-info","e-control","e-btn","e-lib",3,"click"],["scope","row"],["type","text","id","productName","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductName","ngModel"],["type","number","id","price","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductPrice","ngModel"],["type","number","id","quantity","required","",1,"form-control",3,"name","ngClass","ngModel","ngModelChange"],["ProductQty","ngModel"],["type","button",1,"e-danger","e-control","e-btn","e-lib","mr-2",3,"click"]],template:function(o,n){if(1&o){const i=e.EpF();e.TgZ(0,"form",null,0)(2,"div",1)(3,"div")(4,"div")(5,"div",2)(6,"div",3)(7,"h6",4),e._uU(8),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12),e.qZA(),e.TgZ(13,"div")(14,"input",8,9),e.NdJ("ngModelChange",function(l){return n.invoice.customerName=l}),e.qZA()()(),e.TgZ(16,"div",6)(17,"label",7),e._uU(18),e.qZA(),e.TgZ(19,"div")(20,"input",10,9),e.NdJ("ngModelChange",function(l){return n.invoice.email=l}),e.qZA()()(),e.TgZ(22,"div",6)(23,"label",7),e._uU(24),e.qZA(),e.TgZ(25,"div")(26,"input",11,9),e.NdJ("ngModelChange",function(l){return n.invoice.phone=l}),e.qZA()()(),e.TgZ(28,"div",12)(29,"label",7),e._uU(30),e.qZA(),e.TgZ(31,"div")(32,"input",13,9),e.NdJ("ngModelChange",function(l){return n.invoice.address=l}),e.qZA()()()()()(),e.TgZ(34,"div",14)(35,"div",3)(36,"h6",15),e._uU(37),e.TgZ(38,"button",16),e.NdJ("click",function(){return n.addProduct()}),e._uU(39),e.qZA()(),e.TgZ(40,"div",5)(41,"table",17)(42,"thead")(43,"tr")(44,"th",18),e._uU(45),e.qZA(),e.TgZ(46,"th",18),e._uU(47),e.qZA(),e.TgZ(48,"th",18),e._uU(49),e.qZA(),e.TgZ(50,"th",18),e._uU(51),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,T,15,16,"tr",19),e.qZA()()()()(),e.TgZ(54,"div",14)(55,"div",3)(56,"h6",4),e._uU(57),e.qZA(),e.TgZ(58,"div",20)(59,"textarea",21),e.NdJ("ngModelChange",function(l){return n.invoice.additionalDetails=l}),e.qZA()()()()(),e.TgZ(60,"div",22)(61,"button",23),e.NdJ("click",function(){return e.CHM(i),e.MAs(1).valid?n.generatePDF("download"):""}),e._uU(62),e.qZA(),e.TgZ(63,"button",23),e.NdJ("click",function(){return e.CHM(i),e.MAs(1).valid?n.generatePDF("print"):""}),e._uU(64),e.qZA(),e.TgZ(65,"button",24),e.NdJ("click",function(){return e.CHM(i),e.MAs(1).valid?n.generatePDF():""}),e._uU(66),e.qZA()()()()()}if(2&o){const i=e.MAs(1),r=e.MAs(15);e.xp6(8),e.hij(" ",n.language.invoiceCustomerDetails," "),e.xp6(4),e.Oqu(n.language.invoiceFullname),e.xp6(2),e.Q6J("ngClass",e.VKq(25,d,i.submitted&&r.invalid))("ngModel",n.invoice.customerName),e.xp6(4),e.Oqu(n.language.invoiceEmail),e.xp6(2),e.Q6J("ngClass",e.VKq(27,d,i.submitted&&r.invalid))("ngModel",n.invoice.email),e.xp6(4),e.Oqu(n.language.invoicePhone),e.xp6(2),e.Q6J("ngClass",e.VKq(29,d,i.submitted&&r.invalid))("ngModel",n.invoice.phone),e.xp6(4),e.Oqu(n.language.invoiceAddress),e.xp6(2),e.Q6J("ngClass",e.VKq(31,d,i.submitted&&r.invalid))("ngModel",n.invoice.address),e.xp6(5),e.hij(" ",n.language.invoiceOrderDetails," "),e.xp6(2),e.hij(" + ",n.language.invoiceAddNewProduct," "),e.xp6(6),e.hij(" ",n.language.invoiceProduct," "),e.xp6(2),e.hij(" ",n.language.invoicePrice," "),e.xp6(2),e.hij(" ",n.language.invoiceQuantity," "),e.xp6(2),e.hij(" ",n.language.invoiceAmount," "),e.xp6(2),e.Q6J("ngForOf",n.invoice.products),e.xp6(4),e.hij(" ",n.language.invoiceAdditionalDetails," "),e.xp6(2),e.Q6J("ngModel",n.invoice.additionalDetails),e.xp6(3),e.hij(" ",n.language.invoiceDownloadInvoice," "),e.xp6(2),e.hij(" ",n.language.invoicePrintInvoice," "),e.xp6(2),e.hij(" ",n.language.invoiceOpenInvoice," ")}},directives:[s._Y,s.JL,s.F,s.Fj,s.Q7,m.mk,s.JJ,s.On,m.sg,s.wV],styles:[""]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[v.Bz.forChild(y)],v.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[s.u5,m.ez,A,C.I]]}),t})()}}]);